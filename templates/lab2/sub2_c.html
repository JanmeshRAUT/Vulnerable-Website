{% extends 'base.html' %}
{% block title %}GameZone - The Ultimate Gaming Hub{% endblock %}

{% block header %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/labs/lab2/sub2_c.css') }}">
<header class="game-header">
    <div class="game-header-brand-container">
        <div class="game-emoji-icon">ðŸ‘¾</div>
        <a href="{{ url_for('lab2_2c') }}" class="game-brand">
            Game<span class="game-brand-accent">Zone</span>
        </a>
    </div>
    <nav class="game-nav">
        <a href="#" class="game-nav-link">Store</a>
        <a href="#" class="game-nav-link">Library</a>
        <a href="#" class="game-nav-link">Community</a>
        <a href="#" class="game-nav-link-accent">Profile</a>
    </nav>
    <div class="game-wallet">
        WALLET: $120.50
    </div>
</header>
{% endblock %}

{% block content %}
<!-- Lab Context -->
<a href="{{ url_for('lab2_2_menu') }}" class="game-back-link">&larr;
    SELECT LEVEL</a>

<div class="hero-banner-game">
    <h1 class="glow-text game-hero-title">NEXT GEN GAMING</h1>
    <p class="game-hero-subtitle">Immerse yourself in new worlds.</p>
</div>

<!-- VULNERABILITY: Hidden Admin Link in JavaScript Object -->
<script>
    // System Config
    var user = {
        'id': 'guest',
        'role': 'player',
        'permissions': ['read_only'],
        // 'adminPanel': "{{ url_for('lab2_2_admin') }}" 
    };
    
    // Uncomment for dev access
    // if (user.role == 'dev') window.location = user.adminPanel;
</script>

<div class="game-grid">
    {% for product in products %}
    <div class="game-card">
        <div class="game-cover">
            ðŸŽ®
            <div class="platform-badge">{{ product.platform }}</div>
        </div>
        <div class="game-info">
            <div class="game-title">{{ product.name }}</div>
            <div class="game-price-row">
                <span class="game-price">${{ product.price }}</span>
                <button class="btn-buy">Add to Cart</button>
            </div>
        </div>
    </div>
    {% endfor %}
</div>

{% endblock %}