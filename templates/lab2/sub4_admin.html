{% extends 'base.html' %}
{% block title %}Admin Control Panel - AutoParts{% endblock %}

{% block header %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/labs/lab2/sub4.css') }}">
<div class="lab2-4-header admin-header">
    <div style="display: flex; align-items: center; gap: 1rem;">
        <span class="brand admin-brand">‚öôÔ∏è AUTOPARTS ADMIN</span>
    </div>
    <div style="display: flex; gap: 1rem;">
        <a href="{{ url_for('lab2_4') }}" class="btn btn-secondary">Exit Panel</a>
    </div>
</div>
{% endblock %}

{% block content %}
<div class="account-container admin-container">
    <div class="admin-success-banner">
        <span style="font-size: 2rem;">üèÜ</span>
        <div>
            <h3>Administrative Access Confirmed</h3>
            <p>You have successfully bypassed the account verification layer.</p>
            <div class="flag-display">
                {{ flag }}
            </div>
        </div>
    </div>

    <div class="card" style="margin-bottom: 2rem;">
        <h3 style="margin-bottom: 1.5rem; border-bottom: 1px solid var(--border); padding-bottom: 1rem;">User Management</h3>
        <table class="admin-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Username</th>
                    <th>Email</th>
                    <th>Role</th>
                    <th style="text-align: right;">Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for user in users %}
                <tr class="admin-table-row">
                    <td>{{ user.id }}</td>
                    <td style="font-weight: 600;">{{ user.username }}</td>
                    <td style="color: var(--text-secondary);">{{ user.email }}</td>
                    <td>
                        <span class="role-badge">{{ user.role }}</span>
                    </td>
                    <td style="text-align: right;">
                        <button class="btn btn-danger" style="padding: 0.25rem 0.75rem; font-size: 0.75rem;">Delete</button>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="card system-logs-card">
        <h3 style="margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
            <span style="color: #64748b;">üñ•Ô∏è</span> System Logs
        </h3>
        <pre class="system-logs-pre">
[INFO] Admin session initiated from loopback
[INFO] DB connection active: SQLite 3.x
[WARN] Parameter 'id' used for primary authentication key
[INFO] System heartbeat: OK
        </pre>
    </div>
</div>
{% endblock %}
